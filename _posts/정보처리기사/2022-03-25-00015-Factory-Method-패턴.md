---
layout : post
category : [정보처리기사,디자인패턴]
title : Factory Method 패턴
tagline : "정보처리기사,디자인패턴"
tags : [정보처리기사,디자인패턴]
date : "2022-03-25 11:57:00"
---

상위 클래스에서 객체를 생성하는 인터페이스 정의 (만드는 방법만 결정)

하위 클래스에서 인스턴스 생성 (실제 함수를 오버라이딩 하여 구현)



## 클래스 다이어그램 [^출처]

<img style="Background-color:white"  src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/FactoryMethod.svg/500px-FactoryMethod.svg.png" alt="FactoryMethod.svg">



## 소스코드

```java
public abstract class Room {
    abstract void connect(Room room);
}
```

```java
public class MagicRoom extends Room {
    public void connect(Room room) {}
}
```

```java
public class OrdinaryRoom extends Room {
    public void connect(Room room);
}
```

```java
public abstract class MazeGame {
    private final List<Room> rooms = new ArrayList<>();
    
    public MazeGame() {
        Room room1 = makeRoom();
        Room room2 = makeRoom();
        
        room1.connect(room2);
        rooms.add(room1);
        rooms.add(room2);
    }
    
    abstract protected Room makeRoom();
}
```

```java
public class MagicMazeGame extends MazeGame {
    @Override
    protected Room makeRoom() {
        return new MagicRoom();
    }
}
```

```java
public class OrdinaryMazeRoom extends MazeGame {
    @Override
    protected Room makeRoom() {
        return new OrdinaryRoom();
    }
}
```

```java
public class FactoryExample {
    public static void main(String args[]) { 
        // Room1과 Room2가 연결되는 구조는 동일하나
        // 생성할 때 OrdinaryMazeRoom이 되는지
        // MagicMazeRoom이 되는지 결정된다.
        MazeGame ordinaryGame = new OrdinaryMazeGame();
        MazeGame magicGame = new MagicMazeGame();
    }
}
```



[^출처]: https://ko.wikipedia.org/wiki/%ED%8C%A9%ED%86%A0%EB%A6%AC_%EB%A9%94%EC%84%9C%EB%93%9C_%ED%8C%A8%ED%84%B4